<!-- Login Residente -->
<form id="residente-login" class="hidden" novalidate>
  <h1><i class="fas fa-user"></i> Acceso Residente</h1>
  <div class="field">
    <label for="apt-number">Apartamento:</label>
    <input type="text" id="apt-number" required placeholder="Ej: A101" />
    <div class="error-msg" id="apt-error">Apartamento inválido.</div>
  </div>
  <div class="field">
    <label for="apt-pass">Contraseña:</label>
    <input type="password" id="apt-pass" required placeholder="****" />
    <div class="error-msg" id="pass-error">Contraseña incorrecta.</div>
  </div>
  <button type="submit"><i class="fas fa-sign-in-alt"></i> Entrar</button>
</form>

<script>
  const btnResidente = document.getElementById('btn-residente');
  const choiceDiv = document.getElementById('choice');
  const formRegistro = document.getElementById('form-registro');
  const loginResidente = document.getElementById('residente-login');

  btnResidente.addEventListener('click', () => {
    choiceDiv.classList.add('hidden');
    loginResidente.classList.remove('hidden');
  });

  const passByApt = {
    "A101": "1543", "A102": "1361", "A103": "1294", "A104": "1538",
    "A201": "1745", "A202": "1649", "A203": "1296", "A204": "1156",
    "A301": "1180", "A302": "1760", "A303": "1638", "A304": "1813",
    "A401": "1488", "A402": "1813", "A403": "1473", "A404": "1247",
    "A501": "1947", "A502": "1504", "A503": "1648", "A504": "1257",
    "B101": "1458", "B102": "1940", "B103": "1896", "B104": "1836",
    "B201": "1828", "B202": "1506", "B203": "1633", "B204": "1168",
    "B301": "1890", "B302": "1650", "B303": "1439", "B304": "1927",
    "B401": "1559", "B402": "1957", "B403": "1864", "B404": "1050",
    "B501": "1025", "B502": "1837", "B503": "1516", "B504": "1856",
    "C101": "1374", "C102": "1217", "C103": "1445", "C104": "1193",
    "C201": "1047", "C202": "1057", "C203": "1948", "C204": "1282",
    "C301": "1641", "C302": "1567", "C303": "1029", "C304": "1546",
    "C401": "1695", "C402": "1299", "C403": "1245", "C404": "1708",
    "C501": "1970", "C502": "1259", "C503": "1093", "C504": "1112",
    "D101": "1696", "D102": "1290", "D103": "1292", "D104": "1492",
    "D201": "1866", "D202": "1965", "D203": "1323", "D204": "1148",
    "D301": "1152", "D302": "1828", "D303": "1825", "D304": "1865",
    "D401": "1485", "D402": "1701", "D403": "1059", "D404": "1420",
    "D501": "1573", "D502": "1799", "D503": "1497", "D504": "1206",
    "F101": "1358", "F102": "1313", "F103": "1338", "F104": "1612",
    "F201": "1038", "F202": "1252", "F203": "1564", "F204": "1470",
    "F301": "1356", "F302": "1206", "F303": "1174", "F304": "1901",
    "F401": "1460", "F402": "1408", "F403": "1162", "F404": "1184",
    "F501": "1213", "F502": "1653", "F503": "1506", "F504": "1795",
    "H101": "1964", "H102": "1055", "H103": "1112", "H104": "1414",
    "H201": "1181", "H202": "1689", "H203": "1733", "H204": "1425",
    "H301": "1633", "H302": "1873", "H303": "1509", "H304": "1492",
    "H401": "1486", "H402": "1089", "H403": "1977", "H404": "1375",
    "H501": "1062", "H502": "1165", "H503": "1832", "H504": "1277",
    "J101": "1628", "J102": "1288", "J103": "1668", "J104": "1183",
    "J201": "1577", "J202": "1046", "J203": "1705", "J204": "1492",
    "J301": "1596", "J302": "1491", "J303": "1453", "J304": "1461",
    "J401": "1103", "J402": "1143", "J403": "1264", "J404": "1183",
    "J501": "1012", "J502": "1263", "J503": "1383", "J504": "1924",
    "K101": "1417", "K102": "1566", "K201": "1420", "K202": "1324",
    "K301": "1959", "K302": "1995", "K401": "1498", "K402": "1199",
    "K501": "1950", "K502": "1538"
  };

  const aptForm = document.getElementById('residente-login');
  aptForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const apt = document.getElementById('apt-number').value.trim().toUpperCase();
    const pass = document.getElementById('apt-pass').value.trim();

    const aptError = document.getElementById('apt-error');
    const passError = document.getElementById('pass-error');

    if (!passByApt[apt]) {
      aptError.style.visibility = 'visible';
      passError.style.visibility = 'hidden';
      return;
    }

    if (passByApt[apt] !== pass) {
      aptError.style.visibility = 'hidden';
      passError.style.visibility = 'visible';
      return;
    }

    aptError.style.visibility = 'hidden';
    passError.style.visibility = 'hidden';

    // Aquí se puede continuar con el flujo después del login exitoso
    loginResidente.classList.add('hidden');
    formRegistro.classList.remove('hidden');
  });
</script>
